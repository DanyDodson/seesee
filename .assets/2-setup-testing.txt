
git clone https://github.com/danydodson/nginx-local-tunnel

cd nginx-local-tunnel

docker build -t danydodson/dev-proxy:0.1 . --build-arg ROOTPW=root

# start the proxy container
# Note 2222 is the port we opened on the instance earlier
docker run --detach -p 2222:22 \
  --name dev-proxy \
  --env "VIRTUAL_HOST=dev.seesee.space" \
  --env "LETSENCRYPT_HOST=dev.seesee.space" \
  danydodson/dev-proxy:0.1

# Ports explained
# 4000 is from tunnel.conf If you changed that also change below
# 3000 refers to the port your app is running on localhost
# 2222 Is tyhe fowarded port on the host that we use to directly ssh into the container
ssh -NR :80:localhost:3000 -p 2222 root@seesee.space

# Point browser to https://dev.seesee.space